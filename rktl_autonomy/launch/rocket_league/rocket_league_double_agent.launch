<launch>
    <!-- arguments -->
    <arg name="plot_log"      default="false"/>
    <arg name="weights_dir"   default="~/catkin_ws/data/rocket_league/"/>
    <arg name="scoring_weights_name"    default="model_6"/>
    <arg name="chasing_weights_name"    default="model_chasing_dynamic"/>

    <!-- agent -->
    <node type="rocket_league_double_agent" pkg="rktl_autonomy" name="rocket_league_agent" output="screen">
        <rosparam command="load" file="$(find rktl_autonomy)/config/rocket_league.yaml"/>
        <param name="scoring_weights"   value="$(eval weights_dir + scoring_weights_name)"/>
        <param name="chasing_weights"   value="$(eval weights_dir + chasing_weights_name)"/>
    </node>

    <!-- plot performance -->
    <node if="$(arg plot_log)" type="plotter" pkg="rktl_autonomy" name="plotter" output="screen">
        <rosparam command="load" file="$(find rktl_autonomy)/config/rocket_league.yaml"/>
        <remap from="~log" to="rocket_league_agent/log"/>
    </node>
</launch>
