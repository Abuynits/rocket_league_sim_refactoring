<launch>
  <!-- arguments -->
  <arg name="plot_log"      default="false"/>
  <arg name="agent_name"    default="rocket_league_agent"/>

  <!-- constants -->
  <arg name="rate"          default="10.0"/>

  <param name="/use_sim_time" value="true"/>

  <!-- agent -->
  <group ns="$(arg agent_name)">
    <rosparam command="load" file="$(find rktl_autonomy)/config/rocket_league.yaml"/>
    <param name="rate"      value="$(arg rate)"/>
  </group>

  <!-- environment -->
  <include file="$(find rktl_launch)/launch/rocket_league_sim.launch"/>

  <!-- plot performance -->
  <node if="$(arg plot_log)" type="plotter" pkg="rktl_autonomy" name="plotter" output="screen">
    <rosparam command="load" file="$(find rktl_autonomy)/config/rocket_league.yaml"/>
    <remap from="~log" to="$(arg agent_name)/log"/>
  </node>
</launch>
