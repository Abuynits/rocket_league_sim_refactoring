<launch>
  <arg name="render"        default="false"/>
  <arg name="rate"          default="30.0"/>
  <arg name="log"           default="true"/>

  <param name="/use_sim_time" value="true"/>

  <include file="$(find rocket_league_launch)/launch/rocket_league_sim.launch"/>

  <node type="train_rocket_league.py" pkg="rocket_league_drl" name="rocket_league_agent" output="screen">
    <param name="rate"                    value="$(arg rate)"/>
    <rosparam command="load" file="$(find rocket_league_drl)/params/rocket_league.yaml"/>
  </node>

  <node if="$(arg log)" type="plotter" pkg="rocket_league_drl" name="plotter" output="screen">
    <rosparam command="load" file="$(find rocket_league_drl)/params/rocket_league.yaml"/>
    <param name="log_dir" value="~/catkin_ws/data/rocketleague/"/>
    <remap from="~log" to="rocket_league_agent/log"/>
  </node>
</launch>
